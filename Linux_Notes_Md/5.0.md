# 5.2.3
## 热键[Tab]，[Ctrl-C]，[Ctrl-D]
### Tab：
- 第一个命令之后：补全命令
- 第二个命令之后：文件补齐
### Ctrl-C：
组合键，停止执行当前命令
### Ctrl-D：
组合键，意思指：
键盘输入结束：
- End Of File EOF
- End Of Input

可代替exit的输入，相当于exit。

# 5.3.1
## Man
指manual（操作）的简写
查看某命令用法
```
man date
```

### 数字所代表内容
| 数字 | 代表内容 |
| --- | --- |
| 1 | 用户在shell环境中可以操作的命令或可执行文件 |
| 2 | 系统内核可调用的函数与工具等 |
| 3 | 一些常用函数与工具等 |
| 4 | 设备文件的说明，通常在/dev下的文件 |
| 5 | 配置文件或者是某些文件的格式 |
| 6 | 游戏（games） |
| 7 | 惯例与协议等，例如Linux文件系统、网络协议、ASCLL code 等说明 |
| 8 | 系统管理员可用的管理命令 |
| 9 | 跟kernel有关的文件 |

1，5，8特别重要，要求记下意义

### man page的组成部分
| 代号 | 内容说明 |
| --- | --- |
| NAME | 简短的命令、数据名称说明 |
| SYNOPSIS | 简短的命令执行语法（syntax）简介 |
| DESCRIPTION | 较为完整的说明，这部分最好仔细看看 |
| OPTIONS | 针对SYNOPSIS部分中，有列举的所有可用选项说明 |
| COMMANDS | 当这个程序（软件）在执行的时候，可以在此程序（软件）中执行的命令 |
| FILES | 这个程序或数据所使用或参考或连接的某些文件 |
| SEE ALSO | 这个命令或数据有相关的其他说明 |
| EXAMPLE | 一些可以参考的范例 |
| BUGS | 是否有相关的错误 |

#### 查看
1. 先查看NAME的项目，约略看一下这个数据的意思
2. 再仔细看下DESCRIPTION，这个部分会提到很多相关的资料与用法，在这个地方可以学到很多小细节
3. 而如果这个命令其实很熟悉了，那么主要就查询关于OPTIONS的部分了。可以知道每个选项的意义，这样就可以执行比较细部的命令内容
4. 最后会再看一下跟这个资料有关的还有哪些东西可以使用的。
5. 某些说明内容还会举例有关的文件（FILES部分）来提供我们参考

使用`/`搜索内容，使用`q`退出
| 按键 | 进行工作|
| --- | --- |
| 空格键 | 向下翻一页|
| [Page Down] | 向下翻一页 |
| [Page Up] | 向上翻一页 |
| [Home] | 去到第一页 |
| [End] | 去到最后一页 |
| /string | 向下查询string字符串 |
| ?string | 向上查询string字符串 |
| n,N | 利用/或?查询字符串时，可用n来下一个，用N来上一个 |
|q | 结束这次的man page |

# 5.3.2
## Info Page
info与man的用途差不多，都是用来查询命令用法或是文件格式。man page一下子输出一堆信息，**info page是将文件数据拆成一个一个的段落，每个段落用自己的页面来撰写，并且各个页面中还有类似网页的“超链接”来跳转到各不同的页面中，每个独立的页面也被称为一个节点（node）。**\
查询的目标数据的说明文件必须要以info的格式来写才能使用info的特殊功能（如超链接）
### 用法：
```
info info
```
#### 信息：
- File：代表这个info page的数据是来自*.info文件所提供的
- Node：代表目前的这个页面是属于Top节点。意思是在*.info内含有很多信息，而Top仅是*.info文件内的一个节点内容而已
- Next：下一个节点，也可以按`N`到下一个节点去
- Up：回到上一层节点总揽界面，也可以按`U`回到上一层
- Prev：前一个节点

# 5.3.3
其他有用的文件：
一般而言，命令或软件开发者都会将自己的命令或者是软件的说明制作成“在线帮助文件”。帮助文件存放在`/usr/share/doc`中。该目录下的数据主要是以软件包为主的。

# 综上
总结以上三个（man,info,/usr/share/doc/)：
- 在命令行界面下，有任何你不知道的命令或文件格式，但是你想要了解它，都可以使用`man`或者`info`来查询
- 而如果你想要架设一些其他的服务，或想要利用一整套软件来达成某项功能时，请赶快到`/usr/share/doc`下查查有没有该服务的说明文档
- 另外，再次强调，因为Linux毕竟是外国人发明的，所以中文文件确实是比较少的。但不要害怕，只要有英文字典，随时可以查阅。

# 5.5
正确的关机方式：
在Linux中，每个程序都是在后台运行的。\
**若不正常关机，则可能早册亨文件系统的损毁**。\
在正常情况下，正常关机需注意以下几件事：
- 查看系统的使用状态
+ 通知在线用户关机的时刻
    - 在关机前总得给在线用户一些时间来结束他们的工作，所以，这个时候你可以使用`shutdown`的特别命令功能
- 正确关机命令使用
    - 例如`shutdown`与`reboot`两个命令
- 将数据同步写入硬盘中的命令：`sync`
- 惯用的关机命令：`shutdown`
- 重启、关机：`reboot`，`halt`，`poweroff`

Tips：由于Linux系统的关机/重启是很重大的系统操作，因此只有root账号才能够进行

### 5.5.2
shutdown：
- 可以自由选择关机模式：是要关机、重启或进入单用户模式均可
- 可以设置关机时间：可以设置成现在立刻关机，也可以设置某一特定的时间才关机
- 可以自定义关机消息：在关机之前，可以将自己设置的消息传送给在线用户
- 可以仅发出警告信息：有时有可能你要进行一些测试，而不想让其他的用户干扰，或者是明白地告诉用户某段时间要注意一下，这个时候可以使用`shutdown`来通知用户，但不是真的要关机。
- 可以选择是否要用`fsck`检查文件系统

#### 语法规则
```
shutdown [-t 秒] [-arkhncfF] 时间 [警告消息]
```
详情见
```bash
man 8 shutdown
```

### 5.5.3
重启、关机：`reboot`，`halt`，`poweroff`：\
`shutdown`可以依据当前已启动的服务来依次关闭各服务后才关机\
`halt`却能够在不理会目前系统状态下，进行硬件关机的特殊功能

### 5.5.4
切换执行等级：init
系统运作的模式：
- 命令行界面（run level 3）
- 图形界面模式（run level 5）\
四种执行模式：
- run level 0 关机
- run level 3 纯命令行模式
- run level 5 含有图形界面模式
- run level 6 重启
切换各模式：
```
init [run level]
```

# 5.6
开机过程问题排解

### 5.6.1
文件系统错误的问题：
发生原因：
- 因为断电或不正常关机所导致的文件系统发生错误
- 硬盘使用率过高或主机所在环境不良也是一个可能的原因
#### 解决方式
- 如果根目录没有损毁
    - 开机时，屏幕应该告诉你:"press root password or Ctrl-D"，这是输入root密码登录系统，然后进行操作：
    -- 在光标处输入root账户的密码登录系统，进行单用户维护工作\
    -- 输入```fsck /dev/硬盘分区number```，此时屏幕会显示开始修复硬盘的消息，若发现有错误时，屏幕会显示`clean [Y/N]?`的询问消息，输入`Y`
- 根目录损毁了
    - 断电拔出硬盘，装到另外一台有Linux系统的计算机上，不挂在，以root身份运行`fsck /dev/硬盘分区number`
    - 使用Live CD，先使用Live CD开机，然后使用`fsck`去修复原本的根目录，就能救回来了

- 如果整个硬盘损坏了
    - 先将旧硬盘内的数据能就出来的救出来，然后换一块硬盘来安装Linux

- 预防发生文件系统错误的问题
    - 在主机通电后不搬动硬盘，避免移动或震动硬盘；尽量降低硬盘温度
    - 划分不同的分区
        - Linux每个目录被读写的频率不同，妥善地分区将会让我们的Linux更安全。通产我们建议划分下列的硬盘区块：
            - /
            - /boot
            - /usr
            - /home
            - /var

### 5.6.2
忘记root密码：
在grub引导系统读秒时，按下`e`就能进入grub的编辑模式。此时，将光标移动到kernel那一行，再按`e`进入kernel该行的编辑界面中，然后在最后方输入`single`
再按下[Enter]确定之后，按下`b`即可开机进入单用户维护模式了。再使用以下命令更改密码：
```
passwd
```
